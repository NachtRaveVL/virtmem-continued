<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>virtmem: virtmem::VPtrLock&lt; TV &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">virtmem
   </div>
   <div id="projectbrief">virtual memory library for Arduino</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classvirtmem_1_1VPtrLock.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classvirtmem_1_1VPtrLock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">virtmem::VPtrLock&lt; TV &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Creates a lock to some virtual data.  
 <a href="classvirtmem_1_1VPtrLock.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="vptr__utils_8h_source.html">vptr_utils.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2e2036ac83b50e00398ee9bfa6d62509"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a2e2036ac83b50e00398ee9bfa6d62509">VPtrLock</a> (const TV &amp;v, <a class="el" href="namespacevirtmem.html#a0c7c11e1f674eae32762b8031322ff13">VirtPageSize</a> s, bool ro=false)</td></tr>
<tr class="memdesc:a2e2036ac83b50e00398ee9bfa6d62509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs a virtual data lock class and creates a lock to the given data.  <a href="#a2e2036ac83b50e00398ee9bfa6d62509">More...</a><br/></td></tr>
<tr class="separator:a2e2036ac83b50e00398ee9bfa6d62509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4804b102881167b79eaa51b0daa5d628"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a4804b102881167b79eaa51b0daa5d628">VPtrLock</a> (void)</td></tr>
<tr class="memdesc:a4804b102881167b79eaa51b0daa5d628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. No locks are created.  <a href="#a4804b102881167b79eaa51b0daa5d628">More...</a><br/></td></tr>
<tr class="separator:a4804b102881167b79eaa51b0daa5d628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c5571f24d4bd82bebe03b125a8f5ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35c5571f24d4bd82bebe03b125a8f5ac"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a35c5571f24d4bd82bebe03b125a8f5ac">~VPtrLock</a> (void)</td></tr>
<tr class="memdesc:a35c5571f24d4bd82bebe03b125a8f5ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks data if locked. <br/></td></tr>
<tr class="separator:a35c5571f24d4bd82bebe03b125a8f5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa579dd213dcffb2ca257d57a1a9aa9bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa579dd213dcffb2ca257d57a1a9aa9bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#aa579dd213dcffb2ca257d57a1a9aa9bb">VPtrLock</a> (const <a class="el" href="classvirtmem_1_1VPtrLock.html">VPtrLock</a> &amp;other)</td></tr>
<tr class="memdesc:aa579dd213dcffb2ca257d57a1a9aa9bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor, adds extra lock to data. <br/></td></tr>
<tr class="separator:aa579dd213dcffb2ca257d57a1a9aa9bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a771d1587c9ee800bd1e13b215eedee1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a771d1587c9ee800bd1e13b215eedee1c">lock</a> (void)</td></tr>
<tr class="memdesc:a771d1587c9ee800bd1e13b215eedee1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recreates a virtual data lock after <a class="el" href="classvirtmem_1_1VPtrLock.html#a99ff001000b15cba0af4530e14dc20bb">unlock</a> was called.  <a href="#a771d1587c9ee800bd1e13b215eedee1c">More...</a><br/></td></tr>
<tr class="separator:a771d1587c9ee800bd1e13b215eedee1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5d1ff4a96c98193c3cb198c579b371"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd5d1ff4a96c98193c3cb198c579b371"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#abd5d1ff4a96c98193c3cb198c579b371">lock</a> (const TV &amp;v, <a class="el" href="namespacevirtmem.html#a0c7c11e1f674eae32762b8031322ff13">VirtPageSize</a> s, bool ro=false)</td></tr>
<tr class="memdesc:abd5d1ff4a96c98193c3cb198c579b371"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks data. Parameters are described <a class="el" href="classvirtmem_1_1VPtrLock.html#a2e2036ac83b50e00398ee9bfa6d62509">here</a>. <br/></td></tr>
<tr class="separator:abd5d1ff4a96c98193c3cb198c579b371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99ff001000b15cba0af4530e14dc20bb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99ff001000b15cba0af4530e14dc20bb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a99ff001000b15cba0af4530e14dc20bb">unlock</a> (void)</td></tr>
<tr class="memdesc:a99ff001000b15cba0af4530e14dc20bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks data (if locked). Automatically called during destruction. <br/></td></tr>
<tr class="separator:a99ff001000b15cba0af4530e14dc20bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9139737ff6ca18c8fc647a1c594ac84d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9139737ff6ca18c8fc647a1c594ac84d"></a>
Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a9139737ff6ca18c8fc647a1c594ac84d">operator*</a> (void)</td></tr>
<tr class="memdesc:a9139737ff6ca18c8fc647a1c594ac84d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides access to the data. <br/></td></tr>
<tr class="separator:a9139737ff6ca18c8fc647a1c594ac84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9461c0c077cddcd05c87cb2c0c31f8f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacevirtmem.html#a0c7c11e1f674eae32762b8031322ff13">VirtPageSize</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvirtmem_1_1VPtrLock.html#a9461c0c077cddcd05c87cb2c0c31f8f3">getLockSize</a> (void) const </td></tr>
<tr class="memdesc:a9461c0c077cddcd05c87cb2c0c31f8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual size locked.  <a href="#a9461c0c077cddcd05c87cb2c0c31f8f3">More...</a><br/></td></tr>
<tr class="separator:a9461c0c077cddcd05c87cb2c0c31f8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename TV&gt;<br/>
class virtmem::VPtrLock&lt; TV &gt;</h3>

<p>Creates a lock to some virtual data. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">TV</td><td>Type of virtual pointer that points to data</td></tr>
  </table>
  </dd>
</dl>
<p>This class is used to create and release locks to virtual data. The use of locks allows more efficient data handling and compatibility with code only accepting regular pointers. For more information see <a class="el" href="index.html#aLocking">Locking virtual data</a>.</p>
<p>The class uses a RAII (resource acquisition is initialization) approach: after a lock has been acquired (usually during construction), it will be automatically released as soon as the class variable goes out of scope.</p>
<p><a class="el" href="index.html#aWrapping">Wrapped regular pointers</a> are supported: if a given virtual pointer wraps a regular pointer, this class will not attempt to make or release a lock and <a class="el" href="classvirtmem_1_1VPtrLock.html#a9139737ff6ca18c8fc647a1c594ac84d" title="Provides access to the data. ">operator *(void)</a> will simply return the wrapped pointer. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2e2036ac83b50e00398ee9bfa6d62509"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TV&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvirtmem_1_1VPtrLock.html">virtmem::VPtrLock</a>&lt; TV &gt;::<a class="el" href="classvirtmem_1_1VPtrLock.html">VPtrLock</a> </td>
          <td>(</td>
          <td class="paramtype">const TV &amp;&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacevirtmem.html#a0c7c11e1f674eae32762b8031322ff13">VirtPageSize</a>&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ro</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs a virtual data lock class and creates a lock to the given data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>A <a class="el" href="classvirtmem_1_1VPtr.html">virtual pointer</a> to the data to be locked. </td></tr>
    <tr><td class="paramname">s</td><td>Amount of bytes to lock. <b>Note</b>: the actual locked size may be smaller. </td></tr>
    <tr><td class="paramname">ro</td><td>Whether locking should read-only (<code>true</code>) or not (<code>false</code>). If <code>ro</code> is <code>false</code> (default), the locked data will always be synchronized after unlocking (even if unchanged). Therefore, if no changes in data are expected, it is more efficient to set <code>ro</code> to <code>true</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classvirtmem_1_1VPtrLock.html#a9461c0c077cddcd05c87cb2c0c31f8f3" title="Returns the actual size locked. ">getLockSize</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4804b102881167b79eaa51b0daa5d628"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TV&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvirtmem_1_1VPtrLock.html">virtmem::VPtrLock</a>&lt; TV &gt;::<a class="el" href="classvirtmem_1_1VPtrLock.html">VPtrLock</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. No locks are created. </p>
<p>The <a class="el" href="classvirtmem_1_1VPtrLock.html#abd5d1ff4a96c98193c3cb198c579b371">lock(const TV &amp;v, VirtPageSize s, bool ro)</a> function should be used to create a lock if this constructor is used. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9461c0c077cddcd05c87cb2c0c31f8f3"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TV&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacevirtmem.html#a0c7c11e1f674eae32762b8031322ff13">VirtPageSize</a> <a class="el" href="classvirtmem_1_1VPtrLock.html">virtmem::VPtrLock</a>&lt; TV &gt;::getLockSize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the actual size locked. </p>
<p>The <b>actual</b> size that was locked may be smaller then what was requested. If the requested size was too large, for instance larger then the largest memory page size, the locked size will be adjusted accordingly. For this reason, it is <em>very important</em> to use this function after a lock has been created. </p>

</div>
</div>
<a class="anchor" id="a771d1587c9ee800bd1e13b215eedee1c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TV&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classvirtmem_1_1VPtrLock.html">virtmem::VPtrLock</a>&lt; TV &gt;::lock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recreates a virtual data lock after <a class="el" href="classvirtmem_1_1VPtrLock.html#a99ff001000b15cba0af4530e14dc20bb">unlock</a> was called. </p>
<dl class="section note"><dt>Note</dt><dd>This function will re-use the parameters for locking set by <a class="el" href="classvirtmem_1_1VPtrLock.html#a2e2036ac83b50e00398ee9bfa6d62509">VPtrLock(const TV &amp;v, VirtPageSize s, bool ro)</a> or <a class="el" href="classvirtmem_1_1VPtrLock.html#abd5d1ff4a96c98193c3cb198c579b371">lock(const TV &amp;v, VirtPageSize s, bool ro)</a>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>virtmem/src/internal/<a class="el" href="vptr__utils_8h_source.html">vptr_utils.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacevirtmem.html">virtmem</a></li><li class="navelem"><a class="el" href="classvirtmem_1_1VPtrLock.html">VPtrLock</a></li>
    <li class="footer">Generated on Fri Dec 25 2015 14:59:47 for virtmem by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
